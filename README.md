# java-convenience-store-precourse

## 구현항목

### 입출력

- 영수증
    - 구매 상품 내역 : 구매한 상품명, 수량, 가격
    - 증정 상품 내역 : 프로모션에 따라 무료로 제공된 증정 상품의 목록
    - 금액 정보
        - 총구매액: 구매한 상품의 총 금액
        - 총구매수량 : 구매한 상품의 총 수량
        - 행사할인: 프로모션에 의해 할인된 금액
        - 멤버십할인: 멤버십에 의해 추가로 할인된 금액(최대 8000원)
        - 내실돈: 최종 결제 금액(총구매액에서 할인 가격을 뺸 금액)

    * 영수증의 구성 요소를 보기 좋게 정렬하여 고객이 쉽게 금액과 수량을 확인할 수 있게 한다.
    * 수량 없을 시 "재고 없음" 출력
    * 프로모션 상품이 있는 경우 동일한 제품명의 일반 상품 재고가 없으면 일반상품에도 "재고 없음" 출력
- 상품입력
    - 상품 입력 형식이 [제품명:갯수] 로 들어왔는지 확인

### 상품

* 상품 promotion이 "null" string으로 들어올 경우 빈값으로 체크
*

### 재고관리

* 재고 수량 파악하여 결제 가능 여부 확인
* 상품 구매 시 재고 차감

### 프로모션(n개 구매 시 1개 무료 증정)

* 오늘 날짜가 프로모션 기간 이내인지 확인
* 프로모션 재고가 있는지 확인(재고 없을 시 프로모션 적용 불가)
* 프로모션 재고를 우선적으로 차감
* 프로모션 적용이 가능한 상품일때 프로모션 조건 수량보다 적게 가져온경우
  추가 필요수량 안내
    * Y 입력 시 증정 받을 수 있는 상품 추가
* 프로모션 재고 부족으로 일부수량을 혜택 없이 결제 시 정가로 결제할지 여부 안내
    * ex)현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)
    * N 입력 시 정가로 결제해야하는 수량만큼 제외 후 결제 진행
* 프로모션 상품의 구매량을 파악하여 안가져온 무료수량을 계산하는 함수 ex) 2+1일때 5개 사면 1개 무료구매 가능

### 멤버십

* 멤버십 회원은 프로모션 미적용 금액의 30% 할인
* 프로모션 적용 후 남은 금액에 멤버십 할인 적용
* 멤버십 할인 최대 한도는 8000원
* 멤버십 할인 여부 물어보고 Y 인 경우에만 멤버십 할인 적용

### 기타

* md파일 읽어오는 기능(상품 목록, 행사 목록)
* 실패할 경우 실패를 한 해당 질문부터 재시작하는 기능
* 상품 구매부터 영수증 출력까지(프로그램 1사이클) 수행 후 재구매원할시 제품출력부터 재시작

### 예외처리

* 상품 입력 형식이 [제품명:갯수] 형식으로 들어왔는지 확인
* 여러개일 경우 ,로 구분되어 들어오는지 확인
* 갯수가 자연수값인지 확인
* 상품명이 중복으로 들어오는 경우 에러처리
* 입력한 상품명이 실제 상품에 없는 이름일 경우 에러처리
* 에러는 [ERROR]로 시작
* 갯수가 int 범위 이내인지 확인
* Y/N으로 입력받는 질문의 경우 Y/N이 아닐 시 에러
* 제품의 재고수량보다 구입수량으로 더 큰 값을 입력했을때

## 프로그램 요구사항

* else 사용 금지
* enum 적용
* 단위 테스트 작성
* 함수 길이 10라인 이하
* 입출력 별도 클래스 분리 (InputView, OutputView)
* 현재 날짜와 시간 -> DateTimes.now() 활용
* 사용자 입력 -> Console.readLine() 활용